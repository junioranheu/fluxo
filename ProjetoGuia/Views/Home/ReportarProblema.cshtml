@{
    ViewData["Title"] = "Reporte um problema";
}

@section css{
<link href="~/css/artigo.css" rel="stylesheet" asp-append-version="true" />
}

<!-- Efeito -->
<div class="hero-zika">
    <svg class="secao-diagonal" preserveAspectRatio="none" viewBox="0 0 1438 620" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 620V0h1438v240L0 620z" />
        <!-- #E3F9F2 -->
    </svg>
</div>

@*<section class="hero is-primary is-small hero-zika">
    <div class="hero-body">
    <div class="columns">
    <div class="column is-12">
    <div class="container content has-text-centered-mobile">
    <h1 class="title mt-4">
    <span class="fundo-texto-hero">Reporte um problema</span>
    </h1>

    <a href="https://wa.me/5512996680886" target="_blank" class="button is-primary is-medium">
    <span class="icon">
    <i class="fas fa-comments" aria-hidden="true"></i>
    </span>

    <span>Fale com a gente</span>
    </a>
    </div>
    </div>
    </div>
    </div>
    </section>*@

<section class="section mt-6">
    <div class="container">
        <div class="columns">
            <div class="column is-12">
                <div class="card article box">
                    <div class="card-content">
                        <div class="media">
                            <div class="media-center">
                                <img src="" class="author-image" onerror="this.src='/static/outro/sem-imagem.webp';">
                            </div>

                            <div class="media-content has-text-centered">
                                <h2 class="mt-4 title is-3">Problemas, falhas ou bugs</h2>

                                <p class="subtitle is-6 article-subtitle mt-1">
                                    <a href="/perfil/@@adm" class="cor-principal">@@adm</a> em 18 de novembro, 2021
                                </p>
                            </div>
                        </div>

                        <hr />

                        <div class="content article-body mt-6">
                            <!-- 1 -->
                            @*                           <div class="has-text-centered mt-2">
                                <p class="title article-title">O que são e por que acontecem?</p>
                                </div>

                                <div class="mt-3">
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent lacinia odio eleifend leo hendrerit, eget rutrum enim accumsan. Nullam ut mi libero. Vestibulum quis orci rutrum, viverra purus in, efficitur ante. Etiam dapibus gravida lorem sit amet interdum. Curabitur pulvinar dui eget tortor mattis imperdiet. Aliquam odio quam, sagittis eget tellus a, euismod rhoncus dolor. Donec scelerisque ultricies justo a semper.</p>
                                <p>Nullam porttitor nunc et tincidunt volutpat. Sed non vulputate est. Maecenas tincidunt nibh ex, vitae faucibus nisl convallis at. Maecenas dapibus nulla id felis facilisis, sit amet sollicitudin urna imperdiet. Vivamus blandit quam iaculis libero imperdiet congue. Etiam sed nibh diam. Nam condimentum eleifend mattis. In auctor diam ac libero laoreet accumsan.</p>
                                <p>Maecenas consequat, sem eu bibendum vehicula, augue turpis tincidunt lacus, et rhoncus massa diam nec leo. Ut pellentesque diam sed eros pulvinar, nec porttitor nisl laoreet. Etiam non tortor fermentum, luctus mauris non, laoreet mi. Ut vestibulum ante massa, vel bibendum ex bibendum non. Nulla vitae lectus et massa ullamcorper condimentum. Pellentesque viverra, elis a efficitur maximus, mauris diam imperdiet elit, sit amet ultricies elit nisl sed metus. Nulla et mauris neque.</p>
                                </div>*@

                            <!-- 2 -->
                            <div class="has-text-centered mt-6">
                                <p class="title article-title">Como reportar um problema?</p>
                            </div>

                            <div class="mt-4">
                                <h3 class=" is-size-5">Por que reportar?</h3>
                                <p>In molestie magna nibh, at blandit diam vestibulum efficitur. Aliquam mattis justo congue metus hendrerit efficitur. Duis vehicula lobortis enim in faucibus. Vestibulum iaculis urna at pharetra venenatis. Donec in accumsan metus. Suspendisse vel tellus non metus rhoncus molestie at id mauris. Quisque vel augue nisl. Suspendisse viverra egestas imperdiet. Donec sit amet justo libero. Aenean vitae eros non nunc tincidunt sodales.</p>
                            </div>

                            <div class="mt-5">
                                <h3 class="is-size-5">Como reportar?</h3>
                                <p>Utilize o formulário abaixo para reportar qualquer erro encontrado na plataforma.</p>
                            </div>

                            <div class="mt-5">
                                <div class="field">
                                    <div class="control">
                                        <textarea class="textarea" placeholder="Reporte seu problema aqui..." id="txtReport" style="resize: none;"></textarea>
                                    </div>
                                </div>

                                <div class="field">
                                    <div class="control">
                                        <label class="checkbox">
                                            <input type="checkbox" id="cbConcordo">
                                            Eu concordo com os <a asp-controller="Home" asp-action="TermosUso" target="_blank" class="cor-principal">termos e condições de uso</a>
                                        </label>
                                    </div>
                                </div>

                                <div class="field is-grouped">
                                    <div class="control">
                                        <button class="button" id="btnCancelarReport">Cancelar</button>
                                    </div>

                                    <div class="control">
                                        <button class="button is-primary" id="btnReportar">Enviar reclamação</button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6">
                                <hr />
                            </div>

                            <div class="has-text-centered">
                                <a class="button is-primary" asp-controller="Home" asp-action="Inicio">Voltar ao início</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section scripts{
<script>
    $(document).ready(function () {
        $('#btnCancelarReport').click(function () {
            $('#txtReport').val('');
            $('#cbConcordo').prop('checked', false);
        });

        $('#btnReportar').click(function () {
            // Verificações;
            var report = $('#txtReport').val();

            if (!report) {
                Aviso('warning', 'Você deixou o campo em branco... ' + Emoji('aviso'), true, 4000);
                $('#txtReport').focus();
                return;
            }

            if (report.length < 15) {
                Aviso('warning', 'O seu relato está muito curto... ' + Emoji('aviso'), true, 4000);
                $('#txtReport').focus();
                return;
            }

            if (!$('#cbConcordo').is(':checked')) {
                Aviso('warning', 'Você não concordou com os termos ' + Emoji('aviso'), true, 4000);
                $('#cbConcordo').focus();
                return;
            }

            // Desabilitar elementos;
            $('#txtReport').val('');
            $('#cbConcordo').prop('checked', false);
            DesabilitarElemento('#cbConcordo', true);
            DesabilitarElemento('#btnCancelarReport', true);
            DesabilitarElemento('#txtReport', true);
            DesabilitarElemento('#btnReportar', true);

            // Report;
            var requestReport = $.ajax({
                url: '/Usuarios/Reportar',
                type: 'POST',
                data: { report: report },
                dataType: 'html'
            });

            // Sucesso;
            requestReport.done(function (resposta) {
                Aviso('success', 'Muito obrigado! O seu problema foi reportado ' + Emoji('feliz'), true, 4000);
            });
        });
    });
</script>
}
